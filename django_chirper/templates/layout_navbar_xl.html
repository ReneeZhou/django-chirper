<!-- nav bar @xl bp -->
<nav class="xs:hidden sm:hidden xl:flex flex-col h-full justify-between">
    <div class="flex flex-col text-xl font-semibold space-y-3">
        {% if user.is_authenticated %}
        <a href="{% url 'home' %}" class="rounded-full px-2">
            {% else %}
            <a href="{% url 'home_notauth' %}" class="rounded-full px-2">
                {% endif %}
                <!-- chirpy icon -->
                <div class="home-btn w-12">
                    <svg id="Capa_1" enable-background="new 0 0 512 512" height="512" viewBox="0 0 512 512" width="512"
                        xmlns="http://www.w3.org/2000/svg" class="fill-current w-8 h-8">
                        <g>
                            <path
                                d="m105.623 201.204c0 1.149.382 2.74 2.202 3.789l61.082 35.184v-77.947l-61.081 35.184c-1.821 1.048-2.203 2.639-2.203 3.79z" />
                            <path
                                d="m428.034 70.164c-26.196-26.197-60.866-40.624-97.624-40.624h-.698c-34.778 0-67.582 13.65-92.368 38.437s-38.437 57.591-38.437 92.369v132.412c0 58.142 22.813 112.976 64.237 154.399 20.686 20.686 44.716 36.729 70.831 47.61-.258-.255-.521-.502-.778-.759-30.652-30.652-47.533-71.253-47.533-114.324v-64.083c0-59.79 48.644-108.434 108.434-108.434h.527c26.968 0 52.263 7.288 74.031 19.987v-59.367c.001-36.757-14.426-71.427-40.622-97.623zm-94.501 83.862c-8.284 0-15-6.716-15-15 0-9.743-7.96-17.669-17.745-17.669s-17.745 7.926-17.745 17.669c0 8.284-6.716 15-15 15s-15-6.716-15-15c0-26.285 21.418-47.669 47.745-47.669s47.745 21.384 47.745 47.669c0 8.284-6.716 15-15 15z" />
                            <path
                                d="m477.509 271.66c-22.242-22.243-51.678-34.492-82.883-34.492h-.527c-43.248 0-78.434 35.186-78.434 78.434v64.083c0 35.058 13.761 68.125 38.746 93.11 24.985 24.986 58.054 38.746 93.111 38.746h50.427c7.748 0 14.051-6.303 14.051-14.051v-142.948c0-31.205-12.249-60.64-34.491-82.882z" />
                            <path
                                d="m101.433 87.27-17.215 17.175c-5.865 5.851-5.876 15.349-.025 21.213 2.931 2.937 6.774 4.406 10.619 4.406 3.833 0 7.666-1.46 10.594-4.381l21.621-21.57c2.821-2.814 4.406-6.635 4.406-10.619v-78.035c0-8.284-6.716-15-15-15h-79.812c-8.284 0-15 6.716-15 15v71.811l-17.215 17.175c-5.865 5.851-5.876 15.349-.025 21.213 5.852 5.866 15.348 5.876 21.213.025l21.621-21.57c2.821-2.814 4.406-6.635 4.406-10.619v-63.035h49.812z" />
                        </g>
                    </svg>
                </div>
            </a>
            {% if user.is_authenticated %}
            <a href="{% url 'home' %}" class="home-a">
                <div class="home-btn space-x-4">
                    <!-- home icon -->
                    <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" class="home-svg">
                        <path stroke-linecap="round" stroke-linejoin="round"
                            d="M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6" />
                    </svg>
                    <div class="pr-5">Home</div>
                </div>
            </a>
            {% endif %}

            <a href="{% url 'explore' %}" class="home-a">
                <!-- explore icon -->
                <div class="home-btn space-x-4">
                    <!-- hashtag icon -->
                    <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" class="home-svg">
                        <path stroke-linecap="round" stroke-linejoin="round" d="M7 20l4-16m2 16l4-16M6 9h14M4 15h14" />
                    </svg>
                    <div class="pr-5">Explore</div>
                </div>
            </a>

            {% if not user.is_authenticated %}
            <a href="" class="home-a">
                <!-- url_for('user_settings.settings') -->
                <div class="home-btn space-x-4">
                    <!-- settings icon -->
                    <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" class="home-svg">
                        <path stroke-linecap="round" stroke-linejoin="round"
                            d="M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z" />
                        <path stroke-linecap="round" stroke-linejoin="round" d="M15 12a3 3 0 11-6 0 3 3 0 016 0z" />
                    </svg>
                    <div class="pr-5">Settings</div>
                </div>
            </a>
            {% endif %}

            {% if user.is_authenticated %}
            <a href="{% url 'notifications' %}" class="home-a">
                <div class="home-btn space-x-4">
                    <!-- notification icon -->
                    <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" class="home-svg">
                        <path stroke-linecap="round" stroke-linejoin="round"
                            d="M15 17h5l-1.405-1.405A2.032 2.032 0 0118 14.158V11a6.002 6.002 0 00-4-5.659V5a2 2 0 10-4 0v.341C7.67 6.165 6 8.388 6 11v3.159c0 .538-.214 1.055-.595 1.436L4 17h5m6 0v1a3 3 0 11-6 0v-1m6 0H9" />
                    </svg>
                    <div class="pr-5">Notifications</div>
                </div>
            </a>

            {% if not user.profile.new_message %}
            <a href="{% url 'messages' %}" class="home-a">
                <div class="home-btn space-x-4">
                    <!-- message icon -->
                    <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" class="home-svg">
                        <path stroke-linecap="round" stroke-linejoin="round"
                            d="M3 8l7.89 5.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z" />
                    </svg>
                    <div class="pr-5">Messages</div>
                </div>
            </a>
            {% else %}
            <a href="{% url 'messages' %}" class="home-a">
                <div class="home-btn space-x-3">
                    <!-- message icon -->
                    <?xml version="1.0" encoding="iso-8859-1"?>
                    <!-- Generator: Adobe Illustrator 19.0.0, SVG Export Plug-In . SVG Version: 6.00 Build 0)  -->
                    <svg version="1.1" id="Layer_1" xmlns="http://www.w3.org/2000/svg"
                        xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 512 512"
                        style="enable-background:new 0 0 512 512;" xml:space="preserve"
                        class="home-svg ml-1 fill-current hover:text-blue-500">
                        <path d="M405.333,213.874V106.667c0-23.531-19.135-42.667-42.667-42.667h-320C19.135,64,0,83.135,0,106.667V320
    c0,23.531,19.135,42.667,42.667,42.667h239.215C295.858,411.84,341.073,448,394.667,448c20.625,0,40.906-5.427,58.677-15.708
    c5.094-2.948,6.844-9.469,3.885-14.573c-2.948-5.104-9.479-6.865-14.573-3.885c-14.521,8.396-31.115,12.833-47.99,12.833
    c-52.938,0-96-43.063-96-96s43.063-96,96-96s96,43.063,96,96v10.667c0,11.76-9.573,21.333-21.333,21.333
    c-11.76,0-21.333-9.573-21.333-21.333v-42.667c0-5.896-4.771-10.667-10.667-10.667c-2.869,0-5.447,1.161-7.362,3
    c-9.428-8.401-21.714-13.667-35.305-13.667c-29.406,0-53.333,23.927-53.333,53.333S365.26,384,394.667,384
    c15.896,0,30.03-7.131,39.81-18.202c7.727,10.977,20.44,18.202,34.857,18.202C492.865,384,512,364.865,512,341.333v-10.667
    C512,269.569,465.044,219.288,405.333,213.874z M42.667,85.333h320c0.444,0,0.816,0.227,1.254,0.254L211.438,210.75
    c-5.427,3.417-13.292,2.708-16.823,0.542L41.426,85.585C41.859,85.559,42.227,85.333,42.667,85.333z M384,213.874
    c-59.711,5.414-106.667,55.695-106.667,116.793c0,3.6,0.221,7.148,0.54,10.667H42.667c-11.76,0-21.333-9.573-21.333-21.333
    V106.667c0-3.021,0.667-5.874,1.805-8.48l158.883,130.293c6.208,4.052,13.344,6.188,20.646,6.188
    c7.021,0,13.885-1.979,19.927-5.729c0.604-0.323,1.177-0.708,1.719-1.156l157.88-129.598c1.139,2.608,1.807,5.461,1.807,8.483
    V213.874z M394.667,362.667c-17.646,0-32-14.354-32-32c0-17.646,14.354-32,32-32s32,14.354,32,32
    C426.667,348.313,412.313,362.667,394.667,362.667z" />
                    </svg>
                    <div class="pr-5">Messages</div>
                </div>
            </a>
            {% endif %}

            <a href="{% url 'bookmarks' %}" class="home-a">
                <div class="home-btn space-x-4">
                    <!-- bookmark icon -->
                    <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" class="home-svg">
                        <path stroke-linecap="round" stroke-linejoin="round"
                            d="M5 5a2 2 0 012-2h10a2 2 0 012 2v16l-7-3.5L5 21V5z" />
                    </svg>
                    <div class="pr-5">Bookmarks</div>
                </div>
            </a>
            <a href="{% url 'profile_lists' handle=user.profile.handle %}" class="home-a">
                <div class="home-btn space-x-4">
                    <!-- list icon -->
                    <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" class="home-svg">
                        <path stroke-linecap="round" stroke-linejoin="round" d="M4 6h16M4 10h16M4 14h16M4 18h16" />
                    </svg>
                    <div class="pr-5">Lists</div>
                </div>
            </a>
            <a href="{% url 'profile' handle=user.profile.handle %}" class="home-a">
                <div class="home-btn space-x-4">
                    <!-- profile icon -->
                    <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" class="home-svg">
                        <path stroke-linecap="round" stroke-linejoin="round"
                            d="M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z" />
                    </svg>
                    <div class="pr-5">Profile</div>
                </div>
            </a>

            <!-- setting button dropdown menu -->
            <div class="cursor-pointer">
                <div x-data="{ open: false }" class="flex flex-col justify-start">
                    <nav :class="{'flex': open, 'hidden': !open}" class="flex-col flex-grow 
                                                                sm:pb-0 sm:flex sm:justify-start sm:flex-row
                                                                xs:pb-0 xs:flex xs:justify-start xs:flex-row">
                        <div @click.away="open = false" class="relative" x-data="{ open: false }" class="bg-gray-900">
                            <!-- setting button  -->
                            <div class="home-a cursor-pointer">
                                <button @click="open = !open" class="flex flex-row items-center z-10 focus:outline-none
                                    home-btn space-x-4 active:bg-blue-900 active:bg-opacity-25">
                                    <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24"
                                        class="home-svg">
                                        <path stroke-linecap="round" stroke-linejoin="round"
                                            d="M8 12h.01M12 12h.01M16 12h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z" />
                                    </svg>
                                    <div class="pr-5 font-bold">More</div>
                                </button>
                            </div>


                            <!-- menu starts  -->
                            <div x-show="open" x-transition:enter="transition ease-out duration-100"
                                x-transition:enter-start="transform opacity-0 scale-95"
                                x-transition:enter-end="transform opacity-100 scale-100"
                                x-transition:leave="transition ease-in duration-75"
                                x-transition:leave-start="transform opacity-100 scale-100"
                                x-transition:leave-end="transform opacity-0 scale-95" class="absolute left-0 bottom-0 w-full rounded-md shadow-msg xs:w-60 sm:w-60 z-50
                                                                        text-white">
                                <div
                                    class="flex flex-col text-tiny bg-gray-900 rounded-md shadow divide-y divide-gray-700">
                                    <!-- top section -->
                                    <div class="flex flex-col">
                                        <a class="space-x-2 py-3 px-3 hover:bg-gray-800 hover:bg-opacity-25"
                                            href="{% url 'followerRequests' %}">
                                            <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24"
                                                class="stroke-current text-gray-600 w-5 h-5 inline">
                                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                                    d="M18 9v3m0 0v3m0-3h3m-3 0h-3m-2-5a4 4 0 11-8 0 4 4 0 018 0zM3 20a6 6 0 0112 0v1H3v-1z" />
                                            </svg>
                                            <div class="inline align-middle">Follower requests</div>
                                        </a>
                                        <a class="space-x-2 py-3 px-3 hover:bg-gray-800 hover:bg-opacity-25" href="">
                                            <!-- url_for('user.profile_topics', handle = current_user.handle) -->
                                            <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24"
                                                class="stroke-current text-gray-600 w-5 h-5 inline">
                                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                                    d="M7 8h10M7 12h4m1 8l-4-4H5a2 2 0 01-2-2V6a2 2 0 012-2h14a2 2 0 012 2v8a2 2 0 01-2 2h-3l-4 4z" />
                                            </svg>
                                            <div class="inline align-middle">Topics</div>
                                        </a>
                                        <a class="space-x-2 py-3 px-3 hover:bg-gray-800 hover:bg-opacity-25" href="">
                                            <!-- url_for('user.profile_moments', handle = current_user.handle) -->
                                            <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24"
                                                class="stroke-current text-gray-600 w-5 h-5 inline">
                                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                                    d="M13 10V3L4 14h7v7l9-11h-7z" />
                                            </svg>
                                            <div class="inline align-middle">Moments</div>
                                        </a>
                                        <a class="space-x-2 py-3 px-3 hover:bg-gray-800 hover:bg-opacity-25" href="">
                                            <!-- url_for('subdomain.subdomain_ads') -->
                                            <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24"
                                                class="stroke-current text-gray-600 w-5 h-5 inline">
                                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                                    d="M10 6H6a2 2 0 00-2 2v10a2 2 0 002 2h10a2 2 0 002-2v-4M14 4h6m0 0v6m0-6L10 14" />
                                            </svg>
                                            <div class="inline align-middle">Chirper Ads</div>
                                        </a>
                                        <a class="space-x-2 py-3 px-3 hover:bg-gray-800 hover:bg-opacity-25" href="">
                                            <!-- url_for('subdomain.subdomain_analytics') -->
                                            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"
                                                class="fill-current text-gray-600 w-5 h-5 inline">
                                                <path
                                                    d="M2 11a1 1 0 011-1h2a1 1 0 011 1v5a1 1 0 01-1 1H3a1 1 0 01-1-1v-5zM8 7a1 1 0 011-1h2a1 1 0 011 1v9a1 1 0 01-1 1H9a1 1 0 01-1-1V7zM14 4a1 1 0 011-1h2a1 1 0 011 1v12a1 1 0 01-1 1h-2a1 1 0 01-1-1V4z" />
                                            </svg>
                                            <div class="inline align-middle">Analytics</div>
                                        </a>
                                    </div>
                                    <!-- top section ends -->


                                    <!-- bottom section -->
                                    <div class="flex flex-col">
                                        <a class="space-x-2 py-3 px-3 hover:bg-gray-800 hover:bg-opacity-25" href="">
                                            <!-- url_for('user_settings.settings') -->
                                            <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24"
                                                class="stroke-current text-gray-600 w-5 h-5 inline">
                                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                                    d="M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z" />
                                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                                    d="M15 12a3 3 0 11-6 0 3 3 0 016 0z" />
                                            </svg>
                                            <div class="inline align-middle">Settings and privacy</div>
                                        </a>
                                        <a class="space-x-2 py-3 px-3 hover:bg-gray-800 hover:bg-opacity-25" href="">
                                            <!-- url_for('subdomain.subdomain_support') -->
                                            <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24"
                                                class="stroke-current text-gray-600 w-5 h-5 inline">
                                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                                    d="M8.228 9c.549-1.165 2.03-2 3.772-2 2.21 0 4 1.343 4 3 0 1.4-1.278 2.575-3.006 2.907-.542.104-.994.54-.994 1.093m0 3h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z" />
                                            </svg>
                                            <div class="inline align-middle">Help Center</div>
                                        </a>
                                        <a class="space-x-2 py-3 px-3 hover:bg-gray-800 hover:bg-opacity-25"
                                            href="{% url 'display' %}">
                                            <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24"
                                                class="stroke-current text-blue-600 w-5 h-5 inline">
                                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                                    d="M7 21a4 4 0 01-4-4V5a2 2 0 012-2h4a2 2 0 012 2v12a4 4 0 01-4 4zm0 0h12a2 2 0 002-2v-4a2 2 0 00-2-2h-2.343M11 7.343l1.657-1.657a2 2 0 012.828 0l2.829 2.829a2 2 0 010 2.828l-8.486 8.485M7 17h.01" />
                                            </svg>
                                            <div class="inline align-middle">Display</div>
                                        </a>
                                        <a class="space-x-2 py-3 px-3 hover:bg-gray-800 hover:bg-opacity-25"
                                            href="{% url 'keyboardShortcuts' %}">
                                            <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24"
                                                class="stroke-current text-gray-600 w-5 h-5 inline">
                                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                                    d="M7 11.5V14m0-2.5v-6a1.5 1.5 0 113 0m-3 6a1.5 1.5 0 00-3 0v2a7.5 7.5 0 0015 0v-5a1.5 1.5 0 00-3 0m-6-3V11m0-5.5v-1a1.5 1.5 0 013 0v1m0 0V11m0-5.5a1.5 1.5 0 013 0v3m0 0V11" />
                                            </svg>
                                            <div class="inline align-middle">Keyboard shortcuts</div>
                                        </a>
                                    </div>
                                    <!-- bottom section ends -->
                                </div>
                            </div>
                        </div>
                        <!-- menu ends -->
                    </nav>
                </div>
            </div>
            <!-- setting dropdown ends -->

            <a href="{% url 'compose_chirp' %}" class="">
                <div class="w-56 h-12 m-2 rounded-full bg-blue-500 hover:bg-blue-600 font-semibold text-base
                flex flex-row justify-center items-center">Chirp</div>
            </a>
            {% endif %}
    </div>
    {% if user.is_authenticated %}
    <div class="space-y-1">
        <!-- manage account -->
        <a href="#">
            <div class="flex flex-row justify-between items-center p-2
            rounded-full hover:bg-gray-700 hover:bg-opacity-25 active:bg-gray-600 cursor-pointer">
                <div class="flex flex-row space-x-2">
                    <div class="flex justify-center items-center w-12 h-12 rounded-full overflow-hidden">
                        <img src="{{ user.profile.profile_image.url }}" alt="profile pic"
                            class="w-full h-full object-cover">
                    </div>

                    <div class="flex flex-col">
                        <p class="font-bold">{{ user.username }}</p>
                        <p class="text-gray-600">@{{ user.profile.handle}}</p>
                    </div>
                </div>
                <div>
                    <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24"
                        class="w-6 h-6 stroke-current">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7" />
                    </svg>
                </div>
            </div>
        </a>

        <!-- log out button -->
        <a href="{% url 'logout' %}" class="flex flex-col">
            <button class="text-xs px-2 rounded-full hover:bg-gray-800 bg-gray-700 bg-opacity-25 focus:outline-none">Log
                out</button>
        </a>
    </div>
    {% endif %}
</nav>
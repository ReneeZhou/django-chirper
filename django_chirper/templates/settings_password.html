{% extends 'layout_settings.html' %}

{% block title %}Change your password{% endblock title%}
{% block header %}Change your password{% endblock header %}

{% block presvg %}
<div onclick="history.go(-1)">
    <!-- svg redirects to whatever last page user was on -->
    <div class="svg-bg-div w-7 h-7 mr-4">
        <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24"
            class="w-6 h-6 stroke-current text-blue-500">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10 19l-7-7m0 0l7-7m-7 7h18" />
        </svg>
    </div>
</div>
{% endblock presvg %}


{% block content %}
<div class="flex flex-col mx-4 my-3 space-y-2 text-tiny">
    <form action="" method="POST">
        {% csrf_token %}
        {#{% if form.error_messages.password_incorrect %}#}
        {% if form.old_password.errors %}
        <div class="flex flex-col bg-gray-800 border-b-2 border-red-700 bg-opacity-25 w-140 h-16 
            text-red-700 focus-within:text-red-600 focus-within:border-red-600">
            <div class="my-1 ml-2">{{ form.old_password.label }}</div>
            {{ form.old_password }}
        </div>
        <div class="text-red-600 mt-1 text-s">{{ form.old_password.errors }}</div>
        {#{{ form.error_messages.password_incorrect }}#}
        {% else %}
        <div
            class="flex flex-col bg-gray-800 border-b-2 border-gray-600 bg-opacity-25 w-140 h-16 text-gray-600 focus-within:text-blue-500 focus-within:border-blue-500">
            <div class="my-1 ml-2">{{ form.old_password.label }}</div>
            {{ form.old_password }}
        </div>
        {% endif %}

        <a href="{#{% url 'account_accessPasswordReset' %}#}"
            class="text-blue-500 text-xs mt-2 ml-2 no-underline hover:underline">Forgot
            password?</a>

        <div class="h-3 bg-gray-800 bg-opacity-50 border-t border-b border-gray-700 -mx-4"></div>

        <div class="space-y-5 py-1">
            <div>{#error_messages.password_mismatch %}#}
                {% if form.new_password2.errors %}
                <div class="flex flex-col bg-gray-800 border-b-2 border-red-700 bg-opacity-25 w-140 
                    text-red-700 focus-within:text-red-600 focus-within:border-red-600">
                    <div class="my-1 ml-2">{{ form.new_password1.label }}</div>
                    {{ form.new_password1 }}
                </div>
                {% else %}
                <div
                    class="flex flex-col bg-gray-800 border-b-2 border-gray-600 bg-opacity-25 w-140 text-gray-600 focus-within:text-blue-500 focus-within:border-blue-500">
                    <div class="my-1 ml-2">{{ form.new_password1.label }}</div>
                    {{ form.new_password1 }}
                </div>
                {% endif %}
            </div>

            <div>
                {% if form.new_password2.errors %}
                <div class="flex flex-col bg-gray-800 border-b-2 border-red-700 bg-opacity-25 w-140 
                    text-red-700 focus-within:text-red-600 focus-within:border-red-600">
                    <div class="my-1 ml-2">{{ form.new_password2.label }}</div>
                    {{ form.new_password2 }}
                </div>
                <div class="text-red-600 mt-1 text-s">{{ form.new_password2.errors }}</div>
                {% else %}
                <div
                    class="flex flex-col bg-gray-800 border-b-2 border-gray-600 bg-opacity-25 w-140 text-gray-600 focus-within:text-blue-500 focus-within:border-blue-500">
                    <div class="my-1 ml-2">{{ form.new_password2.label }}</div>
                    {{ form.new_password2 }}
                </div>
                {% endif %}
            </div>

        </div>
        <div class="h-3 bg-gray-800 bg-opacity-50 border-t border-b border-gray-700 -mx-4"></div>
        <button class="font-semibold bg-blue-500 cursor-pointer rounded-full py-2 px-4
         focus:outline-none self-end">Save</button>
    </form>
</div>
{% endblock content %}